!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.gdABTest=t()}(this,function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function n(e,t){return e(t={exports:{}},t.exports),t.exports}var r=n(function(e,t){var n;e.exports=(n=n||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},o=r.lib={},i=o.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=o.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var i=0;o>i;i++){var a=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=a<<24-(r+i)%4*8}else for(var i=0;o>i;i+=4)t[r+i>>>2]=n[i>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],o=function(t){var t=t,n=987654321,r=4294967295;return function(){var o=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return o/=4294967296,(o+=.5)*(e.random()>.5?1:-1)}},i=0;t>i;i+=4){var s=o(4294967296*(n||e.random()));n=987654071*s(),r.push(4294967296*s()|0)}return new a.init(r,t)}}),s=r.enc={},u=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;n>o;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},c=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;n>o;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},f=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},l=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,o=n.sigBytes,i=this.blockSize,s=4*i,u=o/s,c=(u=t?e.ceil(u):e.max((0|u)-this._minBufferSize,0))*i,f=e.min(4*c,o);if(c){for(var l=0;c>l;l+=i)this._doProcessBlock(r,l);var h=r.splice(0,c);n.sigBytes-=f}return new a.init(h,f)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(o.Hasher=l.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new h.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math),n)}),o=n(function(e,t){var n;e.exports=(n=r,function(e){var t=n,r=t.lib,o=r.WordArray,i=r.Hasher,a=t.algo,s=[];!function(){for(var t=0;64>t;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var u=a.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;16>n;n++){var r=t+n,o=e[r];e[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,a=e[t+0],u=e[t+1],p=e[t+2],d=e[t+3],m=e[t+4],y=e[t+5],v=e[t+6],g=e[t+7],w=e[t+8],b=e[t+9],x=e[t+10],E=e[t+11],S=e[t+12],B=e[t+13],T=e[t+14],_=e[t+15],C=i[0],k=i[1],A=i[2],R=i[3];k=h(k=h(k=h(k=h(k=l(k=l(k=l(k=l(k=f(k=f(k=f(k=f(k=c(k=c(k=c(k=c(k,A=c(A,R=c(R,C=c(C,k,A,R,a,7,s[0]),k,A,u,12,s[1]),C,k,p,17,s[2]),R,C,d,22,s[3]),A=c(A,R=c(R,C=c(C,k,A,R,m,7,s[4]),k,A,y,12,s[5]),C,k,v,17,s[6]),R,C,g,22,s[7]),A=c(A,R=c(R,C=c(C,k,A,R,w,7,s[8]),k,A,b,12,s[9]),C,k,x,17,s[10]),R,C,E,22,s[11]),A=c(A,R=c(R,C=c(C,k,A,R,S,7,s[12]),k,A,B,12,s[13]),C,k,T,17,s[14]),R,C,_,22,s[15]),A=f(A,R=f(R,C=f(C,k,A,R,u,5,s[16]),k,A,v,9,s[17]),C,k,E,14,s[18]),R,C,a,20,s[19]),A=f(A,R=f(R,C=f(C,k,A,R,y,5,s[20]),k,A,x,9,s[21]),C,k,_,14,s[22]),R,C,m,20,s[23]),A=f(A,R=f(R,C=f(C,k,A,R,b,5,s[24]),k,A,T,9,s[25]),C,k,d,14,s[26]),R,C,w,20,s[27]),A=f(A,R=f(R,C=f(C,k,A,R,B,5,s[28]),k,A,p,9,s[29]),C,k,g,14,s[30]),R,C,S,20,s[31]),A=l(A,R=l(R,C=l(C,k,A,R,y,4,s[32]),k,A,w,11,s[33]),C,k,E,16,s[34]),R,C,T,23,s[35]),A=l(A,R=l(R,C=l(C,k,A,R,u,4,s[36]),k,A,m,11,s[37]),C,k,g,16,s[38]),R,C,x,23,s[39]),A=l(A,R=l(R,C=l(C,k,A,R,B,4,s[40]),k,A,a,11,s[41]),C,k,d,16,s[42]),R,C,v,23,s[43]),A=l(A,R=l(R,C=l(C,k,A,R,b,4,s[44]),k,A,S,11,s[45]),C,k,_,16,s[46]),R,C,p,23,s[47]),A=h(A,R=h(R,C=h(C,k,A,R,a,6,s[48]),k,A,g,10,s[49]),C,k,T,15,s[50]),R,C,y,21,s[51]),A=h(A,R=h(R,C=h(C,k,A,R,S,6,s[52]),k,A,d,10,s[53]),C,k,x,15,s[54]),R,C,u,21,s[55]),A=h(A,R=h(R,C=h(C,k,A,R,w,6,s[56]),k,A,_,10,s[57]),C,k,v,15,s[58]),R,C,B,21,s[59]),A=h(A,R=h(R,C=h(C,k,A,R,m,6,s[60]),k,A,E,10,s[61]),C,k,p,15,s[62]),R,C,b,21,s[63]),i[0]=i[0]+C|0,i[1]=i[1]+k|0,i[2]=i[2]+A|0,i[3]=i[3]+R|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;n[o>>>5]|=128<<24-o%32;var i=e.floor(r/4294967296),a=r;n[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),n[14+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,u=s.words,c=0;4>c;c++){var f=u[c];u[c]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}return s},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,r,o,i,a){var s=e+(t&n|~t&r)+o+a;return(s<<i|s>>>32-i)+t}function f(e,t,n,r,o,i,a){var s=e+(t&r|n&~r)+o+a;return(s<<i|s>>>32-i)+t}function l(e,t,n,r,o,i,a){var s=e+(t^n^r)+o+a;return(s<<i|s>>>32-i)+t}function h(e,t,n,r,o,i,a){var s=e+(n^(t|~r))+o+a;return(s<<i|s>>>32-i)+t}t.MD5=i._createHelper(u),t.HmacMD5=i._createHmacHelper(u)}(Math),n.MD5)}),i=function(e,t){return function(){for(var n=Array(arguments.length),r=0;n.length>r;r++)n[r]=arguments[r];return e.apply(t,n)}};function a(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var s=Object.prototype.toString;function u(e){return"[object Array]"===s.call(e)}function c(t){return null!==t&&"object"===e(t)}function f(e){return"[object Function]"===s.call(e)}function l(t,n){if(null!==t&&void 0!==t)if("object"!==e(t)&&(t=[t]),u(t))for(var r=0,o=t.length;o>r;r++)n.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.call(null,t[i],i,t)}var h={isArray:u,isArrayBuffer:function(e){return"[object ArrayBuffer]"===s.call(e)},isBuffer:function(e){return null!=e&&(a(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&a(e.slice(0,0))}(e)||!!e._isBuffer)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===s.call(e)},isFile:function(e){return"[object File]"===s.call(e)},isBlob:function(e){return"[object Blob]"===s.call(e)},isFunction:f,isStream:function(e){return c(e)&&f(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function t(){var n={};function r(r,o){n[o]="object"===e(n[o])&&"object"===e(r)?t(n[o],r):r}for(var o=0,i=arguments.length;i>o;o++)l(arguments[o],r);return n},extend:function(e,t,n){return l(t,function(t,r){e[r]=n&&"function"==typeof t?i(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}},p="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function d(){throw Error("setTimeout has not been defined")}function m(){throw Error("clearTimeout has not been defined")}var y=d,v=m;function g(e){if(y===setTimeout)return setTimeout(e,0);if((y===d||!y)&&setTimeout)return y=setTimeout,setTimeout(e,0);try{return y(e,0)}catch(t){try{return y.call(null,e,0)}catch(t){return y.call(this,e,0)}}}"function"==typeof p.setTimeout&&(y=setTimeout),"function"==typeof p.clearTimeout&&(v=clearTimeout);var w,b=[],x=!1,E=-1;function S(){x&&w&&(x=!1,w.length?b=w.concat(b):E=-1,b.length&&B())}function B(){if(!x){var e=g(S);x=!0;for(var t=b.length;t;){for(w=b,b=[];++E<t;)w&&w[E].run();E=-1,t=b.length}w=null,x=!1,function(e){if(v===clearTimeout)return clearTimeout(e);if((v===m||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(e);try{v(e)}catch(t){try{return v.call(null,e)}catch(t){return v.call(this,e)}}}(e)}}function T(e,t){this.fun=e,this.array=t}T.prototype.run=function(){this.fun.apply(null,this.array)};function _(){}var C=_,k=_,A=_,R=_,j=_,N=_,D=_;var U=p.performance||{},L=U.now||U.mozNow||U.msNow||U.oNow||U.webkitNow||function(){return(new Date).getTime()};var O=new Date;var P={nextTick:function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;arguments.length>n;n++)t[n-1]=arguments[n];b.push(new T(e,t)),1!==b.length||x||g(B)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:C,addListener:k,once:A,off:R,removeListener:j,removeAllListeners:N,emit:D,binding:function(e){throw Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*L.call(U),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],0>(r-=e[1])&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-O)/1e3}},q=function(e,t,n,r,o){return function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e}(Error(e),t,n,r,o)};function H(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var I=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],z=h.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=h.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function M(){this.message="String contains an invalid character"}(M.prototype=Error()).code=5,M.prototype.name="InvalidCharacterError";var V=function(e){for(var t,n,r=e+"",o="",i=0,a=F;r.charAt(0|i)||(a="=",i%1);o+=a.charAt(63&t>>8-i%1*8)){if((n=r.charCodeAt(i+=.75))>255)throw new M;t=t<<8|n}return o},X=h.isStandardBrowserEnv()?{write:function(e,t,n,r,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),h.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),h.isString(r)&&a.push("path="+r),h.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},$="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||V,K=function(e){return new Promise(function(t,n){var r=e.data,o=e.headers;h.isFormData(r)&&delete o["Content-Type"];var i=new XMLHttpRequest,a="onreadystatechange",s=!1;("test"===P.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in i||z(e.url)||(i=new window.XDomainRequest,a="onload",s=!0,i.onprogress=function(){},i.ontimeout=function(){}),e.auth)&&(o.Authorization="Basic "+$((e.auth.username||"")+":"+(e.auth.password||"")));if(i.open(e.method.toUpperCase(),function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(h.isURLSearchParams(t))r=""+t;else{var o=[];h.forEach(t,function(e,t){null!==e&&void 0!==e&&(h.isArray(e)?t+="[]":e=[e],h.forEach(e,function(e){h.isDate(e)?e=e.toISOString():h.isObject(e)&&(e=JSON.stringify(e)),o.push(H(t)+"="+H(e))}))}),r=o.join("&")}return r&&(e+=(-1===e.indexOf("?")?"?":"&")+r),e}(e.url,e.params,e.paramsSerializer),!0),i.timeout=e.timeout,i[a]=function(){if(i&&(4===i.readyState||s)&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var r,o,a,u,c,f="getAllResponseHeaders"in i?(r=i.getAllResponseHeaders(),c={},r?(h.forEach(r.split("\n"),function(e){if(u=e.indexOf(":"),o=h.trim(e.substr(0,u)).toLowerCase(),a=h.trim(e.substr(u+1)),o){if(c[o]&&I.indexOf(o)>=0)return;c[o]="set-cookie"===o?(c[o]?c[o]:[]).concat([a]):c[o]?c[o]+", "+a:a}}),c):c):null;!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(q("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}(t,n,{data:e.responseType&&"text"!==e.responseType?i.response:i.responseText,status:1223===i.status?204:i.status,statusText:1223===i.status?"No Content":i.statusText,headers:f,config:e,request:i}),i=null}},i.onerror=function(){n(q("Network Error",e,null,i)),i=null},i.ontimeout=function(){n(q("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",i)),i=null},h.isStandardBrowserEnv()){var u=X,c=(e.withCredentials||z(e.url))&&e.xsrfCookieName?u.read(e.xsrfCookieName):void 0;c&&(o[e.xsrfHeaderName]=c)}if("setRequestHeader"in i&&h.forEach(o,function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete o[t]:i.setRequestHeader(t,e)}),e.withCredentials&&(i.withCredentials=!0),e.responseType)try{i.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&i.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){i&&(i.abort(),n(e),i=null)}),void 0===r&&(r=null),i.send(r)})},G={"Content-Type":"application/x-www-form-urlencoded"};function J(e,t){!h.isUndefined(e)&&h.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var W,Y={adapter:("undefined"!=typeof XMLHttpRequest?W=K:void 0!==P&&(W=K),W),transformRequest:[function(e,t){return function(e,t){h.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}(t,"Content-Type"),h.isFormData(e)||h.isArrayBuffer(e)||h.isBuffer(e)||h.isStream(e)||h.isFile(e)||h.isBlob(e)?e:h.isArrayBufferView(e)?e.buffer:h.isURLSearchParams(e)?(J(t,"application/x-www-form-urlencoded;charset=utf-8"),""+e):h.isObject(e)?(J(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&300>e}};Y.headers={common:{Accept:"application/json, text/plain, */*"}},h.forEach(["delete","get","head"],function(e){Y.headers[e]={}}),h.forEach(["post","put","patch"],function(e){Y.headers[e]=h.merge(G)});var Q=Y;function Z(){this.handlers=[]}Z.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},Z.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},Z.prototype.forEach=function(e){h.forEach(this.handlers,function(t){null!==t&&e(t)})};var ee=Z,te=function(e,t,n){return h.forEach(n,function(n){e=n(e,t)}),e},ne=function(e){return!(!e||!e.__CANCEL__)};function re(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var oe=function(e){var t,n;return re(e),e.baseURL&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e.url)&&(e.url=(t=e.baseURL,(n=e.url)?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t)),e.headers=e.headers||{},e.data=te(e.data,e.headers,e.transformRequest),e.headers=h.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),h.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||Q.adapter)(e).then(function(t){return re(e),t.data=te(t.data,t.headers,e.transformResponse),t},function(t){return ne(t)||(re(e),t&&t.response&&(t.response.data=te(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})};function ie(e){this.defaults=e,this.interceptors={request:new ee,response:new ee}}ie.prototype.request=function(e){"string"==typeof e&&(e=h.merge({url:arguments[0]},arguments[1])),(e=h.merge(Q,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[oe,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},h.forEach(["delete","get","head","options"],function(e){ie.prototype[e]=function(t,n){return this.request(h.merge(n||{},{method:e,url:t}))}}),h.forEach(["post","put","patch"],function(e){ie.prototype[e]=function(t,n,r){return this.request(h.merge(r||{},{method:e,url:t,data:n}))}});var ae=ie;function se(e){this.message=e}se.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},se.prototype.__CANCEL__=!0;var ue=se;function ce(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new ue(e),t(n.reason))})}ce.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},ce.source=function(){var e;return{token:new ce(function(t){e=t}),cancel:e}};var fe=ce;function le(e){var t=new ae(e),n=i(ae.prototype.request,t);return h.extend(n,ae.prototype,t),h.extend(n,t),n}var he=le(Q);he.Axios=ae,he.create=function(e){return le(h.merge(Q,e))},he.Cancel=ue,he.CancelToken=fe,he.isCancel=ne,he.all=function(e){return Promise.all(e)},he.spread=function(e){return function(t){return e.apply(null,t)}};var pe=he;pe.default=he;var de=pe;return new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.option=null,this.matchedExps=null,this.hooks={}}var n,r,i;return n=e,(r=[{key:"init",value:function(e){this.option=e}},{key:"getValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._getExps().then(function(n){var r=n.result.filter(function(t){return t.variableName===e});return r[0]&&r[0].variableValue?r[0].variableValue:t}).catch(function(){return t})}},{key:"setUserId",value:function(e){this.option?e!==this.option.userId&&(this.option.userId=e,this.matchedExps=null):console.error("Please initialize sdk first")}},{key:"on",value:function(e,t){this.hooks[e]||(this.hooks[e]=[]),this.hooks[e].push(t)}},{key:"runFetchHook",value:function(e){this.hooks.fetch&&this.hooks.fetch.forEach(function(t){t(e.result||[])})}},{key:"_getExps",value:function(){var e=this;return new Promise(function(t){t(e.matchedExps)}).then(function(t){return t||e._requestExps()}).then(function(t){return e.matchedExps=t,t})}},{key:"_requestExps",value:function(){var e=this;if(this.option){var t=this.option,n=t.appName,r=t.userId,i=(""+o(t.appKey+r+"ABTEST_KEY_SIGN")).toUpperCase();return de.get("https://abtest-proxy.hlgdata.com/strategy/".concat(n,"?userId=").concat(r),{headers:{"ABTEST-SIGN":i}}).then(function(t){return e.runFetchHook(t.data),t.data})}console.error("Please initialize sdk first")}}])&&t(n.prototype,r),i&&t(n,i),e}())});
